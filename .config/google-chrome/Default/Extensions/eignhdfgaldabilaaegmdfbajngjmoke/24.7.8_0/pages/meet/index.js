"use strict";cjce.registerTemplate("bm-p-meet",function(e,c){var a="https://meet.google.com",n="https://hangouts.google.com",t=a,i=t+"/landing",s="0"!==c.account.authuser;s&&(i+="?authuser="+c.account.authuser);var o=cjBasics.uniqueId.generate(),r={authuser:c.account.authuser,bm_iid:o,bm_cid:"meet",bm_wiz:"1",hl:cjBasics.lang.current},l=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"meet",serviceLabel:cjBasics.lang.i18n("cj_i18n_00809","Meet"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:c,onNewTab:function(){c.openTab(i)}}),m=cjce.createElement("cjmd-iconbutton",{iconName:"__mdi:settings",label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),onClick:function(){c.openTab(i+"#:~:text=settings"),h.cjceSendFrameCommand({method:"meetOpenSettings"},t)}});l.cjceAppendChild(m),e.appendChild(l);var d=cjBasics.urlParams.attach(i,r),u=cjBasics.webRequest.addListener("onBeforeRequest",function(e){var a=new URL(e.url),e=a.pathname;if("/"!==e&&"/_meet"!==e&&"/landing"!==e){e=a.origin+e;return s&&(e+="?authuser="+c.account.authuser),c.openTab(e),u.removeListener(),l.cjceSetLoading(!0),d+="&",h.src=d,{cancel:!0}}},{urls:[n+"/*bm_iid="+o+"*",a+"/*bm_iid="+o+"*"]},["blocking"]);cjBasics.webRequest.handleIframeHeaders([n+"/*bm_iid="+o+"*",a+"/*bm_iid="+o+"*"],{handleFirefoxInject:!0,handleSwCache:!0});var h=cjce.createElement("bm-iframe",{src:d,shadow:!0,solid:"#fff",onLoad:function(){h.src.startsWith("https://")&&l.cjceSetLoading(!1)},onMessage:function(e){var a=e.bm_method,e=e.bm_value;"meetOpenUrl"===a&&(e=cjBasics.cleanBmUrl(e),c.openTab(e))}});e.appendChild(h);o=l.cjceDrawerEl,e={home:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"545",divider:!0},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},chat:{iconName:"__mdi:chat_bubble_outline",label:cjBasics.lang.i18n("cj_i18n_00819","Chat"),shortcutId:"559"},hangouts:{iconName:"__mdi:hangout",label:cjBasics.lang.i18n("cj_i18n_01337","Classic Hangouts"),shortcutId:"218"},calendar:{iconName:"__mdi:event",label:cjBasics.lang.i18n("cj_i18n_00302","Calendar"),shortcutId:"27"}},e=cjce.createElement("bm-navlist",{selectedId:"home",items:e,onClick:function(e){"home"!==e&&c.pageManager.navigate(e)},onNewTab:function(e,a){a=a.newTabUrl||cjgShortcuts.getUrl(a.shortcutId,c.account);c.openTab(a)}});o.appendChild(e)});