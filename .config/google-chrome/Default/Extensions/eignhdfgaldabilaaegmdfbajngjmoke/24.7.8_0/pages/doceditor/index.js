"use strict";cjce.registerTemplate("bm-p-doceditor",function(c,n){var l,a,s,d,_,e=cjgApis.docEditors,m=n.instanceParameters.productId,u=e[m]||{},e=u.mimeTypes||[],i=0===e.length?"(mimeType != 'application/vnd.google-apps.folder')":"(mimeType = '"+e.join("' or mimeType = '")+"')",t=u.entityName,g=u.iconName||"editors",o=u.emptyStateIcon,j="bm_pref__"+m+"__",e=u.serviceLabel,p=e||cjBasics.lang.i18n("cj_i18n_01289","Docs Suite"),h=u.portalLabel||p,b=u.pageLabel||e||cjBasics.lang.i18n("cj_i18n_02703","All files"),v=u.listview,f=!1,w=u.primaryColor||"#1a73e8",B=!u.primaryLoadingColor||w,N=u.noNewFile,r=u.docPath,y="all",T="lastOpenedByMe",I=!1,x="",C=!0,S=cjgApis.auth.requireToken(n.account,["https://www.googleapis.com/auth/drive"]).catch(function(e){return C=!1,e}),M="https://datastudio.google.com",U=M+"/u/"+n.account.authuser+"/",E={all:null,owned:"'me' in owners",shared:"sharedWithMe"},L={name:"name",lastModified:"modifiedTime desc",lastModifiedByMe:"modifiedByMeTime desc",lastOpenedByMe:"viewedByMeTime desc"},P="https://script.google.com/"+n.wizPath+"home/",k="script"===m;function A(){var a;C&&(d.cjceSetLoading(!0),a=["trashed = false",i],E[y]&&a.push(E[y]),I&&a.push("fullText contains '"+x+"'"),n.requirePage("doclist").then(function(){var e=cjce.createElement("cjg-doclist",{darkMode:n.darkMode,gAccount:n.account,noNewFile:N,noFabs:f,onLoadingChange:function(e){d.cjceSetLoading(e)},openInNew:n.openTab,listview:v,entityName:t,emptyStateIcon:o,primaryColor:w,searching:I,cachingId:I?null:"bm_cache_v31__"+m+"__doclist__"+y,shadow:"thinOnScroll",orderBy:I?null:L[T],q:a.join(" and ")});cjce.replaceChild(c,e,l),l=e}))}function D(e,a){return cjBasics.urlParams.attach(P+e,a||{})}function q(e){I!==e&&(I=e,s.hidden=e,A())}function O(e){var a,e=k?D("search",{q:e}):(a=n.account.authuser,(r?"https://docs.google.com/"+r+"/u/"+a+"/?q=":"atari"===m?cjBasics.urlParams.attach("https://sites.google.com/new",{authuser:"0"===a?null:a,q:""}):"datastudio"===m?"https://datastudio.google.com/u/"+a+"/navigation/reporting/search/":"jamboard"===m?"https://jamboard.google.com/u/"+a+"/?q=":void 0)+encodeURIComponent(e));n.openTab(e)}function F(e){u.noExternalSearch||C?q(x=e):O(e)}function R(){var e,a,e=(a=e||m,e=n.account.authuser,"datastudio"===a?"https://datastudio.google.com/u/"+e+"/reporting/":"mymaps"===a?cjBasics.urlParams.attach("https://www.google.com/maps/d/u/"+e+"/drive",{state:JSON.stringify({action:"create",userId:n.account.obfuscatedId})}):"atari"===a?"https://sites.google.com/create?authuser="+e:"script"===a?"https://script.google.com/create?authuser="+e:"jamboard"===a?"https://jamboard.google.com/create?authuser="+e:r?"https://docs.google.com/"+r+"/create?authuser="+e:void 0);n.openTab(e)}function G(){var e=z()+"?ftv=1";n.openTab(e)}function H(a){return cjce.createElement("cjmd-fab",{mini:!0,color:!0,label:a.label,iconName:a.iconName,onClick:function(){var e=U+a.urlPath;n.openTab(e)}})}function z(){return r?"https://docs.google.com/"+r+"/u/"+n.account.authuser+"/":cjgShortcuts.getUrl(u.mainShortcutId,n.account)}!function(){d=cjce.createElement("bm-ogb",{drawer:{color:!1},loading:B,serviceIcon:g,serviceLabel:h,pageLabel:b,searchbox:{color:w,onClear:function(){q(!1)},onSubmit:F,onMetaSubmit:u.noExternalSearch?null:O},bmApis:n,onNewTab:function(){if(I)O(x);else{if(k)return e=D("all"===y||"shared"===y?y:"my"),void n.openTab(e);var e=z();n.openTab(e)}}}),c.appendChild(d),n.setOnPageDisplayHandler(d.cjceSearchboxEl.select),"datastudio"===m&&cjce.applyTemplate(d,"append-g-marketing-toggle",{cjgShortcuts:cjgShortcuts,bmApis:n,selectedId:"datastudio"}),a=d.cjceDrawerEl;var e=cjce.createElement("bm-navlist",{selectedId:m,compact:"datastudio"===m,items:function(){if("atari"===m)return{atari:{label:cjBasics.lang.i18n("cj_i18n_00112","Sites"),iconName:"__mdi:atari_site",color:"#3e50b4",colorIcon:!0,shortcutId:"405",divider:!0},relatedHeader:{header:!0,color:w,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},sites:{label:cjBasics.lang.i18n("cj_i18n_00111","Classic Sites"),iconName:"__mdi:drive_site",shortcutId:"130"},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"}};if(k)return{starred:{label:cjBasics.lang.i18n("cj_i18n_01295","Starred projects"),iconName:"__mdi:star_outline",newTabUrl:D("starred"),external:!0},my:{label:cjBasics.lang.i18n("cj_i18n_01296","My projects"),iconName:"__mdi:folder",newTabUrl:D("my"),external:!0},all:{label:cjBasics.lang.i18n("cj_i18n_01297","All projects"),iconName:"__mdi:folder",newTabUrl:D("all"),external:!0},shared:{label:cjBasics.lang.i18n("cj_i18n_00002","Shared with me"),iconName:"__mdi:people",newTabUrl:D("shared"),external:!0},trash:{label:cjBasics.lang.i18n("cj_i18n_00005","Bin"),iconName:"__mdi:delete",newTabUrl:D("trash"),divider:!0,external:!0},executions:{label:cjBasics.lang.i18n("cj_i18n_01298","My executions"),iconName:"__mdi:settings_ethernet",newTabUrl:D("executions"),external:!0},triggers:{label:cjBasics.lang.i18n("cj_i18n_01710","My triggers"),iconName:"__mdi:alarm",newTabUrl:D("triggers"),divider:!0,external:!0},start:{label:cjBasics.lang.i18n("cj_i18n_01711","Getting started"),iconName:"__mdi:play_circle_outline",newTabUrl:D("start"),external:!0},usersettings:{label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),iconName:"__mdi:settings",newTabUrl:D("usersettings"),external:!0}};if("datastudio"!==m)return"jamboard"===m?{jamboard:{label:cjBasics.lang.i18n("cj_i18n_01290","Jams"),iconName:"__mdi:cj_jam_drive",color:"#fb8c00",colorIcon:!0,shortcutId:"740"},adminconsole:{label:cjBasics.lang.i18n("cj_i18n_01292","Admin Console"),iconName:"__mdi:cjg_admin_console",newTabUrl:"https://admin.google.com/"+n.wizPath+"ac/jamboards",external:!0,divider:!0},relatedHeader:{header:!0,color:w,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"}}:"mymaps"===m?{mymaps:{label:cjBasics.lang.i18n("cj_i18n_00410","My Maps"),iconName:"__mdi:file_map",color:"#ea4335",colorIcon:!0,shortcutId:"167",divider:!0},relatedHeader:{header:!0,color:w,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"},maps:{label:cjBasics.lang.i18n("cj_i18n_00423","Maps"),iconName:"__mdi:maps",shortcutId:"101"}}:{docs:{label:cjBasics.lang.i18n("cj_i18n_00391","Docs"),iconName:"__mdi:drive_document",color:"#4285f4",colorIcon:!0,shortcutId:"46"},sheets:{label:cjBasics.lang.i18n("cj_i18n_00393","Sheets"),iconName:"__mdi:drive_spreadsheet",color:"#34a853",colorIcon:!0,shortcutId:"128"},slides:{label:cjBasics.lang.i18n("cj_i18n_00407","Slides"),iconName:"__mdi:drive_presentation",color:"#f5a900",colorIcon:!0,shortcutId:"133"},forms:{label:cjBasics.lang.i18n("cj_i18n_00408","Forms"),iconName:"__mdi:drive_form",color:"#673ab7",colorIcon:!0,shortcutId:"57"},drawings:{label:cjBasics.lang.i18n("cj_i18n_00409","Drawings"),iconName:"__mdi:drive_drawing",color:"#ea4335",colorIcon:!0,shortcutId:"47",divider:!0},drive:{label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"}};var e="https://support.google.com/datastudio/answer/",a="0"===n.account.authuser?"":"?authuser="+n.account.authuser;return{datastudio:{color:"#1a73e8",iconName:"__mdi:cj_gmp_data_studio_report",label:cjBasics.lang.i18n("cj_i18n_01299","Reports"),newTabUrl:U+"navigation/reporting"},sources:{iconName:"__mdi:cj_gmp_data_studio_source",label:cjBasics.lang.i18n("cj_i18n_01300","Data sources"),newTabUrl:U+"navigation/datasources",external:!0},explorer:{iconName:"__mdi:cj_gmp_data_studio_explore",label:cjBasics.lang.i18n("cj_i18n_01301","Explorer"),newTabUrl:U+"navigation/explorer",external:!0,divider:!0},productoverview:{iconName:"__mdi:web_asset",label:cjBasics.lang.i18n("cj_i18n_01302","Product overview"),newTabUrl:M+"/overview",external:!0},gallery:{iconName:"__mdi:view_quilt",label:cjBasics.lang.i18n("cj_i18n_01303","Report gallery"),newTabUrl:M+"/gallery",external:!0},connect:{iconName:"__mdi:compare_arrows",label:cjBasics.lang.i18n("cj_i18n_01304","Connect to data"),newTabUrl:M+"/data",external:!0,divider:!0},newfeatures:{iconName:"__mdi:new_releases",label:cjBasics.lang.i18n("cj_i18n_01305","New features"),newTabUrl:e+"6311467"+a,external:!0},tutorials:{iconName:"__mdi:video_youtube",label:cjBasics.lang.i18n("cj_i18n_01306","Video tutorials"),newTabUrl:e+"6390659"+a,external:!0}}}(),onClick:function(e){n.pageManager.navigate(e)},onNewTab:function(e,a){var i=a.newTabUrl;a.shortcutId&&(i=cjgShortcuts.getUrl(a.shortcutId,n.account)),n.openTab(i)}});a.appendChild(e),(e=function(){if(N||!m)return null;var e=u.newFileLabel||cjBasics.lang.i18n("cj_i18n_00090","New file"),a=cjce.createElement("gmd-fab",{label:e,onClick:R});return"datastudio"===m?cjce.createElement("cjmd-fabgroup",{items:[a,H({label:cjBasics.lang.i18n("cj_i18n_06217","New report"),iconName:"__mdi:cj_gmp_data_studio_report",urlPath:"reporting/"}),H({label:cjBasics.lang.i18n("cj_i18n_06218","New data source"),iconName:"__mdi:cj_gmp_data_studio_source",urlPath:"datasources/create"}),H({label:cjBasics.lang.i18n("cj_i18n_06219","New explorer"),iconName:"__mdi:cj_gmp_data_studio_explore",urlPath:"explorer/temp"})]}):u.hasTemplates?(e=cjce.createElement("cjmd-fab",{mini:!0,color:w,label:cjBasics.lang.i18n("cj_i18n_06216","From template"),iconName:"__mdi:category",onClick:G}),cjce.createElement("cjmd-fabgroup",{items:[a,e]})):a}())&&(f=!0,c.appendChild(e));var t=j+"thumbs",o=j+"filter",r=j+"order";browserStorage.sync.get([t,o,r]).then(function(e){var a=e[t];"boolean"==typeof a&&(v=!a);a=e[o];"string"==typeof a&&(y=a);var i,c,a=e[r];function n(e){v=!v,i.hidden=v,c.hidden=!v,A(),browserStorage.sync.setItem(j+"thumbs",!v)}"string"==typeof a&&(T=a),e=cjce.createElement("cjmd-appbar",{secondary:!0}),a=cjce.createElement("cjmd-tabs",{color:w,items:{all:cjBasics.lang.i18n("cj_i18n_00107","All"),owned:cjBasics.lang.i18n("cj_i18n_00108","Owned by me"),shared:cjBasics.lang.i18n("cj_i18n_00002","Shared with me")},onChange:function(e){y=e,browserStorage.sync.setItem(j+"filter",e),A()},selectedId:y}),e.appendChild(a),s=cjce.createElement("cjmd-iconbuttonmenu",{label:cjBasics.lang.i18n("cj_i18n_00096","Order by"),iconName:"__mdi:cj_sort_by_alpha",items:{name:cjBasics.lang.i18n("cj_i18n_01990","Name"),lastModified:cjBasics.lang.i18n("cj_i18n_00093","Last modified"),lastModifiedByMe:cjBasics.lang.i18n("cj_i18n_00094","Last modified by me"),lastOpenedByMe:cjBasics.lang.i18n("cj_i18n_00095","Last opened by me")},selectedId:T,isSelector:!0,onChange:function(e){T=e,A(),browserStorage.sync.setItem("bm_pref__drive__order",e)}}),e.appendChild(s),u.noViewToggle||((i=cjce.createElement("cjmd-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_list",onClick:n})).hidden=v,e.appendChild(i),(c=cjce.createElement("cjmd-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_00106","Change view"),iconName:"__mdi:view_module",onClick:n})).hidden=!v,e.appendChild(c)),_=e,d.appendChild(_),A()}),S.then(function(e){C||setTimeout(function(){!function(e){d.cjceSetLoading(!1),cjgApis.cache.remove(n.account,["bm_cache_v31__"+m+"__doclist__"+y]),_&&_.remove();var a=cjce.createElement("cjmd-container",{shadow:"thin"}),i=cjce.createElement("bm-fulldialog",{inline:!0,lockup:{label:p},iconName:g,message:cjBasics.lang.i18n("cj_i18n_00089","Before you can use this page, you need to give the extension access to Google Drive"),actionLabel:cjBasics.lang.i18n("cj_i18n_01916","Continue with Google"),actionG:!0,action:function(){cjgApis.auth.requestPermissions(n.account,e.cjg_missing_scopes)}});a.appendChild(i),cjce.replaceChild(c,a,l)}(e)})})}()});