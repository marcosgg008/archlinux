"use strict";cjce.registerTemplate("bm-p-blogger",function(a,o){var t,i=["https://www.googleapis.com/auth/blogger.readonly"],l="https://content.googleapis.com/blogger/v3/",n="https://www.blogger.com/"+o.wizPath,s="#009EB2";a.style.setProperty("--accent-color","#ff5722");var r,m,g="solid",d={allposts:{icon:{name:"__mdi:library_books",theme:g},label:cjBasics.lang.i18n("cj_i18n_01184","Posts"),newTabUrl:"blog/posts/",external:!0},overviewstats:{icon:{name:"__mdi:assessment",theme:g},label:cjBasics.lang.i18n("cj_i18n_01185","Stats"),newTabUrl:"blog/stats/week/",external:!0},comments:{icon:{name:"__mdi:mode_comment",theme:g},label:cjBasics.lang.i18n("cj_i18n_01186","Comments"),newTabUrl:"blog/comments/",external:!0},adsenseoverview:{icon:{name:"__mdi:attach_money",theme:g},label:cjBasics.lang.i18n("cj_i18n_01187","Earnings"),newTabUrl:"blog/earnings/",external:!0},allpages:{icon:{name:"__mdi:filter_none",theme:g},label:cjBasics.lang.i18n("cj_i18n_01188","Pages"),newTabUrl:"blog/pages/",external:!0},pageelements:{icon:{name:"__mdi:drive_site",theme:g},label:cjBasics.lang.i18n("cj_i18n_01189","Layout"),newTabUrl:"blog/layout/",external:!0},template:{icon:{name:"__mdi:format_paint",theme:g},label:cjBasics.lang.i18n("cj_i18n_01190","Theme"),newTabUrl:"blog/themes/",external:!0},basicsettings:{icon:{name:"__mdi:settings",theme:g},label:cjBasics.lang.i18n("cj_i18n_00298","Settings"),newTabUrl:"blog/settings/",external:!0}};function b(){_("")}function _(e){o.openTab(n+e)}function j(e){var n;t.textContent="",m.hidden=!Array.isArray(e)||1!==e.length,Array.isArray(e)&&0!==e.length?(n=cjce.createElement("cjmd-list"),t.appendChild(n),e.forEach(function(e){e=function(n){var c=n.id,a=cjce.createElement("cjmd-item",{onClick:function(e){e.target===a&&_("blog/posts/"+c)},icon:{name:"__mdi:chat_bubble",color:!0}}),e=document.createElement("div");e.className="cjmd-item__body",a.appendChild(e);var t=document.createElement("div");t.className="cjmd-item__header",t.textContent=n.name,e.appendChild(t),n.description&&((i=document.createElement("div")).className="cjmd-secondarytext",i.textContent=n.description,e.appendChild(i)),(e=document.createElement("div")).className="cjmd-item__hovertools",a.appendChild(e);var i=cjce.createElement("cjmd-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_06292","View blog"),icon:{name:"__mdi:visibility",theme:g}});return i.addEventListener("click",function(e){o.openTab(n.url)}),e.appendChild(i),(i=cjce.createElement("cjmd-iconbutton",{label:cjBasics.lang.i18n("cj_i18n_06289","New post"),icon:{name:"__mdi:create",theme:g}})).addEventListener("click",function(e){_("blogger.g?blogID="+c+"#editor")}),e.appendChild(i),i=cjce.createElement("cjmd-iconbuttonmenu",{theme:g,label:cjBasics.lang.i18n("cj_i18n_06294","More actions"),items:d,compact:!0,onClick:function(e){_(d[e].newTabUrl+c)}}),e.appendChild(i),a}(e);n.appendChild(e)})):(e=cjce.createElement("cjmd-emptystate",{color:!0,label:cjBasics.lang.i18n("cj_i18n_00260","No blogs found"),subLabel:cjBasics.lang.i18n("cj_i18n_00261","To create a new blog, go to blogger.com"),iconName:"__mdi:message",theme:g}),t.appendChild(e))}function u(){var n,e,c=!1;cjgApis.cache.getItem(o.account,"bm_cache_v31__blogger__blogs").then(function(e){c||Array.isArray(e)&&(n=JSON.stringify(e),j(e))}),e=cjBasics.urlParams.attach(l+"users/self/blogs",{prettyPrint:"false",fields:"items(description,id,name,url)"}),cjgApis.request(e,{fetchAs:"json"},{account:o.account,requiredScopes:i}).then(function(e){e=e.items||[];return cjgApis.cache.setItem(o.account,"bm_cache_v31__blogger__blogs",e),e}).then(function(e){c=!0,JSON.stringify(e)!==n&&j(e)},function(e){c=!0,e&&"not_authorized"===e.cjg_error?function(e){t.textContent="";var n=cjce.createElement("bm-fulldialog",{inline:!0,bmApis:o,onNewTab:b,lockup:{label:cjBasics.lang.i18n("cj_i18n_00189","Blogger")},iconName:"blogger",message:cjBasics.lang.i18n("cj_i18n_00259","Before you can use this page, you need to give access to load your Blogger blogs"),actionLabel:cjBasics.lang.i18n("cj_i18n_01916","Continue with Google"),actionG:!0,action:function(){cjgApis.auth.requestPermissions(o.account,e)}});t.appendChild(n)}(e.cjg_missing_scopes):function(){t.textContent="";var e=cjce.createElement("cjmd-emptystate",{label:cjBasics.lang.i18n("cj_i18n_00262","Couldn't load your blogs"),subLabel:cjBasics.lang.i18n("cj_i18n_00263","Please make sure you are connected to the internet"),iconName:"__mdi:message"});t.appendChild(e)}()}).then(function(){r.cjceSetLoading(!1)})}!function(){r=cjce.createElement("bm-ogb",{loading:s,serviceIcon:"blogger",serviceLabel:cjBasics.lang.i18n("cj_i18n_00189","Blogger"),drawer:{color:!0},pageLabel:cjBasics.lang.i18n("cj_i18n_01183","Your blogs"),searchbox:{color:s,onSubmit:function(e){_("?q="+encodeURIComponent(e))},submitInNewTab:!0},bmApis:o,onNewTab:b}),a.appendChild(r),o.setOnPageDisplayHandler(r.cjceSearchboxEl.select);var e=r.cjceDrawerEl,n={yourblogs:{icon:{name:"__mdi:home",theme:g},label:cjBasics.lang.i18n("cj_i18n_01183","Your blogs")},reading:{icon:{name:"__mdi:bookmark",theme:g},label:cjBasics.lang.i18n("cj_i18n_01191","Reading list"),newTabUrl:"dashboard/reading",external:!0,divider:!0}};Object.keys(d).forEach(function(e){n[e]=d[e]});var c=cjce.createElement("bm-navlist",{selectedId:"yourblogs",items:n,onNewTab:function(e,n){"yourblogs"===e?b():_("reading"===e||"basicsettings"===e?n.newTabUrl:n.newTabUrl+"0")}});e.appendChild(c),(m=cjce.createElement("cjmd-fab",{fill:!0,icon:{name:"__mdi:edit",theme:g},color:!0,onClick:function(){_("blogger.g#editor")}})).hidden=!0,a.appendChild(m),t=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),a.appendChild(t),u()}()});