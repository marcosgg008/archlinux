"use strict";cjce.registerTemplate("bm-p-marketplace",function(e,a){var c="https://workspace.google.com",t=c+"/"+a.wizPath+"marketplace/";var n=cjce.createElement("bm-ogb",{navigator:{onClick:function(){o.cjceSendFrameCommand({method:"marketplaceToggleDrawer"},c)}},serviceIcon:"gsuite_marketplace",serviceLabel:cjBasics.lang.i18n("cj_i18n_06682","Workspace"),pageLabel:cjBasics.lang.i18n("cj_i18n_01512","Marketplace"),searchbox:{onSubmit:function(e){o.cjceSendFrameCommand({method:"bmCstFillAndSubmit",value:{selector:"input",newValue:e}},c)},onClear:function(){o.cjceSendFrameCommand({method:"marketplaceClearResults"},c)}},bmApis:a,onNewTab:function(){o.cjceGetCleanUrl(c).then(function(e){e&&-1===e.indexOf("/marketplace/appfinder")||(e=t),a.openTab(e)})},onBack:function(){o.cjceSendFrameCommand({method:"marketplaceGoBack"},c)}});e.appendChild(n),a.setOnPageDisplayHandler(n.cjceSearchboxEl.select);var r=cjBasics.uniqueId.generate(),i=cjBasics.urlParams.attach(t+"appfinder",{bm_cid:"marketplace",bm_iid:r,bm_cst:"1",bm_wiz:"1",hl:cjBasics.lang.current});cjBasics.webRequest.handleIframeHeaders([c+"/*bm_iid="+r+"*"],{handleFirefoxInject:!0});var s="https://fonts.gstatic.com/s/i/productlogos";cjBasics.webRequest.addListener("onBeforeRequest",function(e){return{redirectUrl:s+"/marketplace/v2/192px.svg"}},{urls:[s+"/gsuite_marketplace/v6/web-96dp/logo_gsuite_marketplace_color_1x_web_96dp.png"],types:["image"]},["blocking"]);var o=cjce.createElement("bm-iframe",{src:i,solid:"#fff",shadow:!0,onMessage:function(e){var a=e.bm_method,e=e.bm_value;"marketplaceBackState"===a&&n.cjceSetBackState(e)}});e.appendChild(o)});