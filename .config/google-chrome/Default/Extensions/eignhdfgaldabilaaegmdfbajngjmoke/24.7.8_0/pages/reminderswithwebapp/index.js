"use strict";cjce.registerTemplate("bm-p-reminderswithwebapp",function(e,c){var a,n=cjBasics.uniqueId.generate(),i="https://assistant.google.com",t="/"+c.wizPath+"reminders",l=i+t,s={bm_cid:"reminderswithwebapp",bm_iid:n,bm_wiz:"1",bm_cst:"1",hl:cjBasics.lang.current},o=!0;var r=cjce.createElement("bm-ogb",{loading:!0,drawer:!0,serviceIcon:"reminders",serviceLabel:cjBasics.lang.i18n("cj_i18n_00081","Reminders"),pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),bmApis:c,onNewTab:function(){p.cjceGetCleanUrl(i).then(function(e){e=e||cjgShortcuts.getUrl("1129",c.account);c.openTab(e)})},onBack:function(){p.cjceSendFrameCommand({method:"bmCstUpdateState",value:t},i)}});e.appendChild(r);var d=cjce.createElement("cjmd-button",{hairline:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_00215","View note"),onClick:function(){c.pageManager.navigate("keep",{noteData:a})},onMetaClick:function(){c.openTab(a.url)}});d.hidden=!0,r.cjceAppendChild(d);var m=cjce.createElement("cjmd-iconbutton",{iconName:"__mdi:delete",label:cjBasics.lang.i18n("cj_i18n_01563","Delete"),onClick:function(){p.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'div[jscontroller][jsmodel][jsaction]>div:first-child[jsname][jslog]>div:last-child[jslog]>div[role="button"][data-tooltip],div[jscontroller][jsmodel][jsaction]>div:first-child[jsname][jslog]>div[role="button"][data-tooltip]:last-child'},i)}});m.hidden=!0,r.cjceAppendChild(m);var j={reminders:{iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home"),shortcutId:"561"},relatedHeader:{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},calendar:{iconName:"__mdi:event",label:cjBasics.lang.i18n("cj_i18n_00302","Calendar"),shortcutId:"27"},keep:{iconName:"__mdi:drive_keep",label:cjBasics.lang.i18n("cj_i18n_00422","Keep"),shortcutId:"97"},tasks:{iconName:"__mdi:tasks",label:cjBasics.lang.i18n("cj_i18n_00439","Tasks"),shortcutId:"140"}},j=cjce.createElement("bm-navlist",{selectedId:"reminders",items:j,onClick:function(e){c.pageManager.navigate(e)},onNewTab:function(e,n){n=n.newTabUrl||cjgShortcuts.getUrl(n.shortcutId,c.account);c.openTab(n)}});r.cjceDrawerEl.appendChild(j);s=cjBasics.urlParams.attach(l,s);cjBasics.webRequest.handleIframeHeaders([i+"/*bm_iid="+n+"*"],{handleFirefoxInject:!0});var p=cjce.createElement("bm-iframe",{src:s,solid:"#fff",shadow:!0,onMessage:function(e){var n;"reminderswithwebappUpdatePath"===e.bm_method&&(e=e.bm_value.split("reminders/id/")[1],r.cjceSetBackState(e),r.cjceSetDropdownState(!e),a=e?(n=cjBasics.lang.i18n("cj_i18n_06846","Reminder"),function(e){try{var n=window.atob(e).split(/keep\/v\d\//i)[1];if(!n)return null;var a=n.split("/")[0].split('"')[0].split(" ");return{url:"https://keep.google.com/"+c.wizPath+"#NOTE/"+a,noteId:a}}catch(e){return null}}(e)):(n=cjBasics.lang.i18n("cj_i18n_00291","Home"),null),d.hidden=!a,m.hidden=!e,r.cjceSetPageLabel(n))},onLoad:function(){o&&(o=!1,r.cjceSetLoading(!1))}});e.appendChild(p)});