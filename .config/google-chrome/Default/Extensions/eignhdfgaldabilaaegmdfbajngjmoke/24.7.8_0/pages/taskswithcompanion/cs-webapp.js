"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){var t,e;function m(t,e){t=e.lastIndexOf(t);return e.substring(0,t)}function o(){for(var f,t,e=window.location.pathname,o=-1!==e.indexOf("/room/"),u=[],n="",d=document.body.textContent.split("AF_initDataCallback("),p=0;p<d.length;p++){try{if("continue"===function(){var t,e,o,n=[],i=(i=d[p]).split(");<\/script>")[0];t=" data:",o=(e=i).indexOf(t),i=m("sideChannel:",i=e.substring(o+t.length)),i=m("]",i)+"]";var r=JSON.parse(i)[1],i=r[1][1];f=i[0];for(var s=i[2],a=2;a<r.length;a++)try{var c=r[a][3],l={id:"list/"+c[0],label:c[1][0]};n.push(l)}catch(t){}if(0===n.length)return"continue";u=n.sort(function(t,e){var o=t.id,n=e.id,i=s.indexOf(o),r=s.indexOf(n);if(-1!==i&&-1!==r)return i<r?-1:1;i=t.label,r=e.label,t=i.toLowerCase(),e=r.toLowerCase();return t!==e?t<e?-1:1:i!==r?i<r?-1:1:o<n?-1:1})}())continue}catch(t){continue}return f&&(n="list/"+f),o?n="room/"+e.split("/room/")[1].split("/")[0]:-1===e.indexOf("/list/")||(t=e.split("/list/")[1].split("/")[0])&&(n="list/"+t),{tasklists:o?[]:u,activeView:n}}return{tasklists:o?[]:u,activeView:n}}window.top!==window&&"https://tasks.google.com"===window.location.origin&&(t=("object"===("undefined"==typeof chrome?"undefined":_typeof(chrome))&&chrome&&chrome.runtime&&chrome||"object"===("undefined"==typeof browser?"undefined":_typeof(browser))&&browser||{}).runtime.getURL("PATH/").replace("/PATH/",""),("object"!==_typeof(e=window.location.ancestorOrigins)||1===e.length&&e[0]===t)&&window.addEventListener("DOMContentLoaded",function(){window.parent.postMessage({bm_method:"taskswithcompanionData",bm_value:o()},t)}))}();