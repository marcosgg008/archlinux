"use strict";cjce.registerTemplate("bm-p-customize",function(r,i){var s,d="_",l=["tasks","keep","drive","calendar","gmail","youtube","news","translate","maps","search"];function o(e){var a=s.value.toLowerCase();if(a||!e)for(var c=r.querySelectorAll(".bm-p-customize-pageitem"),t=0;t<c.length;t++){var n=""===a||-1!==c[t].cjceQueryKeywords.indexOf(a);c[t].classList.toggle("bm-p-customize-pageitem--hidden",!n)}}!function(){var e=cjce.createElement("bm-ogb",{serviceIcon:"black_menu_for_google",pageLabel:cjBasics.lang.i18n("cj_i18n_01585","Customize menu")});r.appendChild(e),(e=cjce.createElement("cjmd-subheader",{label:cjBasics.lang.i18n("cj_i18n_02165","Click or drag services to customize the menu")})).classList.add("bm-p-customize-message"),r.appendChild(e),e=cjce.createElement("cjmd-appbar",{secondary:!0}),s=cjce.createElement("cjmd-searchbox",{label:cjBasics.lang.i18n("cj_i18n_00085","Search"),onInput:o,onClear:o,color:!0}),i.setOnPageDisplayHandler(s.select),e.appendChild(s),r.appendChild(e);var e=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"transparentOnScroll"}),c=cjce.createElement("cjmd-list");c.addEventListener("dragstart",function(e){e.dataTransfer.setData("serviceId",e.target.dataset.id)}),c.addEventListener("click",function(e){var a=document.activeElement||e.target,e=a&&a.dataset.id;e&&(i.userServices.add(e),a.remove(),d=d.replace(e+"_",""))}),e.appendChild(c);var n=-1;function t(e,a){var t;a===n&&(t=document.createDocumentFragment(),a=e.join("_")+"_",d!==a&&(d=a,e.sort(function(e,a){e=l.indexOf(e),a=l.indexOf(a);return e===a?0:a<e?-1:1}).forEach(function(e){var a,c,e=(a=e,c=i.servicesDatabase[a]||{},e=c.iconName||"placeholder",i.darkMode&&"googleg"===e&&(e="search"),(e=cjce.createElement("cjmd-item",{icon:{serviceName:e},label:c.label||"Page"})).cjceQueryKeywords=(c.label+"-"+cjgShortcuts.getUrl(c.shortcutId)).toLowerCase(),e.classList.add("bm-p-customize-pageitem"),e.draggable=!0,e.dataset.id=a,e.tabIndex=0,(a=cjce.createElement("cjmd-icon",{name:"__mdi:drag_indicator",size:20})).classList.add("bm-p-customize-pageitem__dragicon"),e.appendChild(a),e);t.appendChild(e)}),c.textContent="",c.appendChild(t),o(!1)))}i.userServices.onChange(function(e,a){var c=++n;setTimeout(function(){t(a,c)},c?200:10)}),r.appendChild(e)}()});