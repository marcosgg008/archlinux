"use strict";cjce.registerTemplate("bm-p-editors",function(e,o){var c,a,t,n,i="my-drive",r=(Math.round(document.documentElement.offsetHeight*document.documentElement.offsetWidth/7500),"https://drive.google.com/drive/"+o.wizPath);function s(){var e=r+("folder"===i||"shareddrive"===i?"folders/"+n.id:i);o.openTab(e)}var l,d=window.atob("QUl6YVN5RFA3MkZMTVpCNng0ejZDVnlCOG8wQUthWC0yRDdueGMw"),u="https://content.googleapis.com",p=["https://www.googleapis.com/auth/drive.apps.readonly"],m=["196802322321","230754619982","335078253515","619683526622","629453589428","796396377186","889782162350","897606708560","952342923413","371237729773","1083656409722"];function h(e){var c,c=((e=(c=e).docPath)?"https://docs.google.com/"+e+"/u/"+o.account.authuser+"/":cjgShortcuts.getUrl(c.mainShortcutId,o.account))+"?ftv=1";o.openTab(c)}function g(e,c){var a,c=(a=e,e=c,c=o.account.authuser,"datastudio"===a?"https://datastudio.google.com/u/"+c+"/reporting/":"mymaps"===a?cjBasics.urlParams.attach("https://www.google.com/maps/d/u/"+c+"/drive",{state:JSON.stringify({action:"create",userId:o.account.obfuscatedId})}):"atari"===a?"https://sites.google.com/create?authuser="+c:"script"===a?"https://script.google.com/create?authuser="+c:"jamboard"===a?"https://jamboard.google.com/create?authuser="+c:(e=e.docPath)?"https://docs.google.com/"+e+"/create?authuser="+c:void 0);o.openTab(c)}function b(){var e=cjce.createElement("cjmd-subheader",{color:!0,label:cjBasics.lang.i18n("cj_i18n_01309","Google apps")});c.appendChild(e);e=cjce.createElement("bm-navlist",{compact:!0,items:["docs","sheets","slides","forms","drawings","atari","mymaps","jamboard","script","datastudio"].map(function(e){var c=cjgApis.docEditors[e],a=document.createDocumentFragment();return c.hasTemplates&&a.appendChild(cjce.createElement("cjmd-iconbutton",{id:e,icon:{name:"__mdi:category"},label:cjBasics.lang.i18n("cj_i18n_06216","From template"),onClick:function(){h(c)}})),a.appendChild(cjce.createElement("cjmd-iconbutton",{icon:{name:"__mdi:add"},label:c.newFileLabel||cjBasics.lang.i18n("cj_i18n_00090","New file"),onClick:function(){g(e,c)}})),{id:e,shortcutId:c.shortcutId,icon:{serviceName:c.iconName},label:c.serviceLabel,additionalFragment:a}}),onClick:function(e){o.pageManager.navigate(e)},onNewTab:function(e,c){c=c.newTabUrl||cjgShortcuts.getUrl(c.shortcutId,o.account);o.openTab(c)}});c.appendChild(e);var t=document.createElement("div");function a(e){t.textContent="";var c="NOT_AUTHORIZED"===e,a=Array.isArray(e)&&0<e.length;(c||a)&&(a=cjce.createElement("cjmd-subheader",{color:!0,label:cjBasics.lang.i18n("cj_i18n_01310","More apps")}),t.appendChild(a),c?(c=cjce.createElement("bm-inlinepermission",{description:cjBasics.lang.i18n("cj_i18n_01311","Grant read-only access to your Drive Apps so we can list more apps here"),onClick:function(){cjgApis.auth.requestPermissions(o.account,p)}}),t.appendChild(c)):(e=cjce.createElement("bm-navlist",{compact:!0,items:e.map(function(e){var c=document.createDocumentFragment();return e.createUrl&&c.appendChild(cjce.createElement("cjmd-iconbutton",{icon:{name:"__mdi:add"},label:cjBasics.lang.i18n("cj_i18n_00090","New file"),onClick:function(){o.openTab(e.createUrl)}})),{icon:e.icon,label:e.label,newTabUrl:e.newTabUrl,additionalFragment:c}}),onClick:function(e,c){o.openTab(c.newTabUrl)},onNewTab:function(e,c){o.openTab(c.newTabUrl)}}),t.appendChild(e)))}c.appendChild(t);var n=null,i=!1;cjgApis.cache.getItem(o.account,"bm_cache_v31__doclist__createapps").then(function(e){!i&&e&&(n=JSON.stringify(e),a(e))}),e=cjBasics.urlParams.attach(u+"/drive/v2/apps",{prettyPrint:"false",hl:cjBasics.lang.current,fields:"items(supportsCreate,id,name,createUrl,productUrl,icons(size,category,iconUrl))"}),cjgApis.request(e,{fetchAs:"json"},{account:o.account,pa:"optional",key:d,requiredScopes:p}).then(function(e){var t=[];return e.items.forEach(function(e){var c,a;e.supportsCreate&&-1===m.indexOf(e.id)&&(c="/images/placeholder_32dp.svg",a=24*window.devicePixelRatio,Array.isArray(e.icons)&&e.icons.sort(function(e,c){return e.size<c.size?1:-1}).forEach(function(e){"application"===e.category&&e.size>=a&&(c=e.iconUrl)}),t.push({label:e.name,newTabUrl:e.productUrl,createUrl:e.createUrl,icon:{url:c}}))}),t.sort(function(e,c){return e.label.toLowerCase()>c.label.toLowerCase()?1:-1})},function(){return"NOT_AUTHORIZED"}).then(function(e){i=!0;var c=JSON.stringify(e);n&&c===n||(a(e),cjgApis.cache.setItem(o.account,"bm_cache_v31__doclist__createapps",e))})}t=cjce.createElement("bm-ogb",{drawer:!0,serviceIcon:"editors",bmApis:o,onNewTab:s,pageLabel:cjBasics.lang.i18n("cj_i18n_00291","Home"),serviceLabel:cjBasics.lang.i18n("cj_i18n_06709","Editors")}),a=t.cjceDrawerEl,l=cjce.createElement("bm-navlist",{items:[{id:"editors",iconName:"__mdi:home",label:cjBasics.lang.i18n("cj_i18n_00291","Home")},{id:"help",iconName:"__mdi:info",label:cjBasics.lang.i18n("cj_i18n_01532","Help"),newTabUrl:!0,external:!0},{header:!0,color:!0,label:cjBasics.lang.i18n("cj_i18n_01539","Related apps")},{id:"drive",label:cjBasics.lang.i18n("cj_i18n_00390","Drive"),iconName:"__mdi:drive",shortcutId:"48"}],selectedId:"editors",bmApis:o,onClick:function(e){o.pageManager.navigate(e)},onNewTab:function(e,c){var a=c.newTabUrl;"help"===e?a="https://support.google.com/docs/"+("0"===o.account.authuser?"":"?authuser="+o.account.authuser):c.shortcutId&&(a=cjgShortcuts.getUrl(c.shortcutId,o.account)),o.openTab(a)}}),a.appendChild(l),e.appendChild(t),c=cjce.createElement("cjmd-container",{scrollable:!0,shadow:"thinOnScroll"}),b(),e.appendChild(c)});