"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){if(window.top!==window){var e=window.location.origin,e="https://www.google.com"===e||"https://maps.google.com"===e;if(e&&-1!==window.location.pathname.indexOf("/maps/companion")){var c,a,n,u,o,t,r=("object"===("undefined"==typeof chrome?"undefined":_typeof(chrome))&&chrome&&chrome.runtime&&chrome||"object"===("undefined"==typeof browser?"undefined":_typeof(browser))&&browser||{}).runtime.getURL("PATH/").replace("/PATH/",""),e=window.location.ancestorOrigins;if("object"===_typeof(e)){if(e.length<1||2<e.length)return;if(e[0]!==r&&e[1]!==r)return;if(2===e.length&&!e[0].endsWith(".google.com"))return}-1!==window.location.search.indexOf("bm_wfn")&&(c=r.startsWith("moz-extension://"),a=!1,n=null,u='img[src*="x/search_"] + input',o='button > img[src*="x/search_"]',(t=document.createElement("script")).textContent='!function(t,n,e,r,o,s){var i=e.search.match(/[&?]bm_wfn=([a-zA-Z$]{1,3})_([a-zA-Z$]{1,3})/),c=s[n]||{},u=c[t],f={},a={};function d(n,t){var e=r.keys(s);e[e.indexOf("location")]="addEventListener",e.forEach(function(a){"function"!=typeof s[a]||f[a]?f[a]=s[a]:r.defineProperty(f,a,{value:function(n,t,e,r,o,i,c,u,f){return s[a](n,t,e,r,o,i,c,u,f)}})}),u(n,function(n){r.defineProperty(n,i[1],{get:function(){return f},set:function(){}}),t(n)})}r.defineProperty(c,i[2],{get:function(){return function(){return{getParentIframe:function(){return null}}}},set:function(){}}),r.keys(e).forEach(function(n){a[n]=e[n]}),a.ancestorOrigins=["https://mail.google.com"],f.location=a,r.defineProperty(c,t,{get:function(){return d},set:function(n){u=n}}),r.defineProperty(s,n,{get:function(){return c},set:function(n){n&&n[t]&&(u=n[t])}}),o.currentScript&&o.currentScript.remove()}("__jsload__","mapslite",location,Object,document,window);',function e(){document.documentElement?document.documentElement.insertBefore(t,document.documentElement.firstChild):setTimeout(e,.001)}(),window.addEventListener("message",function(e){var t,n,o,i;e.origin===r&&(e.isTrusted||c)&&(t=(o=e.data||{}).bm_method,n=o.bm_value,"mapswithcompanionOpenInNew"===t?(e=e.source,o=o.bm_request,(i=!(i=document.querySelector('[jsaction="map.openinmaps"], [aria-label*="Open in Maps"], [data-tooltip*="Open in Maps"]'))&&a?(i=document.querySelector('button[aria-label] > img[src*="x/open_in_new_"]'))&&i.parentNode:i)&&p(i),e.postMessage({bm_request:o,bm_value:Boolean(i)},r)):"mapswithcompanionUpdateSearchQuery"===t?f(n):"mapswithcompanionSubmitSearchQuery"===t?w():"mapswithcompanionRemoveBlurHandler"===t?s(document.querySelector(u)):"mapswithcompanionGoBack"===t?(i=document.querySelector('img[src*="x/arrow_back_"]'))&&p(i):"mapswithcompanionToggleFocusState"===t&&(n?document.documentElement.dataset.bmCsMapswithcompanionFocusState="1":setTimeout(function(){document.documentElement.dataset.bmCsMapswithcompanionFocusState="0"},200)))}),function e(){var t=Boolean(document.querySelector('img[src*="x/arrow_back_"]'));a!==t&&(a=t,window.parent.postMessage({bm_method:"mapswithcompanionBackState",bm_value:t},r));t=document.querySelector('h1[class*="__title-container"] > div[class*="__subtitle"]'),t=t&&t.textContent||null;n!==t&&(n=t,window.parent.postMessage({bm_method:"mapswithcompanionUpdatePageTitle",bm_value:t},r)),setTimeout(e,100)}(),function e(){var t,n=document.querySelector("#map > div:first-child > div:first-child");n?((t=document.createElement("button")).className="bm-cs-mapswithcompanion-fab",t.addEventListener("click",function(){f("Navigate"),w()}),n.appendChild(t)):setTimeout(e,100)}(),"complete"===document.readyState||"loaded"===document.readyState||"interactive"===document.readyState?b():window.addEventListener("DOMContentLoaded",b))}}function s(e){var t;e.mapswithcompanionQueryInputPrepared||(e.mapswithcompanionQueryInputPrepared=!0,"object"===_typeof(e.__jsaction)&&delete e.__jsaction.blur,(t=e.getAttribute("jsaction"))&&-1!==t.indexOf(";blur:")&&e.setAttribute("jsaction",t.replace(";blur:",";bluuuur:")),setTimeout(function(){d(e,"focus")},1e3))}function i(e,t){t=new window.InputEvent(t,{bubbles:!0,cancelable:!0});e.dispatchEvent(t)}function m(e,t){t=new window.KeyboardEvent(t,{bubbles:!0,cancelable:!0,keyCode:13});e.dispatchEvent(t)}function d(e,t){t=new window.FocusEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}function l(e,t){t=new window.MouseEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}function p(e){l(e,"mousedown"),l(e,"mouseup"),l(e,"click")}function f(e){if("string"==typeof e){var t=document.querySelector(u);if(!t)return p(document.querySelector(o)),void setTimeout(function(){f(e)});s(t),t.value=e,i(t,"input")}}function w(){var e,t;document.documentElement.dataset.bmCsMapswithcompanionFocusState="0",e=document.querySelector(u),t=0,setTimeout(function(){p(e)},t+=50),setTimeout(function(){d(e,"focus")},t+=50),setTimeout(function(){m(e,"keydown")},t+=50),setTimeout(function(){m(e,"keyup")},t+=50),setTimeout(function(){i(e,"input")},250)}function b(){var e,t,e=(e=document.body.textContent,t=e.match(/&&_\.([a-zA-Z$]{1,3})\.location\.ancestorOrigins/)||e.match(/call\(_\.([a-zA-Z$]{1,3})\.location\.ancestorOrigins/),e=e.match(/([a-zA-Z$]{1,3})\("iframes\.getContext/),t||e?[t&&t[1]||null,e&&e[1]||null]:null);window.parent.postMessage({bm_method:"mapswithcompanionNewFunctionNames",bm_value:e},r)}}();