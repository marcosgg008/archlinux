"use strict";cjce.registerTemplate("bm-p-shoppinglist",function(e,n){var c="https://shoppinglist.google.com",i=c+"/u/"+n.account.authuser+"/lists/default";var a=cjce.createElement("bm-ogb",{loading:!0,serviceIcon:"shoppinglist",serviceLabel:cjBasics.lang.i18n("cj_i18n_01028","Shopping List"),pageLabel:cjBasics.lang.i18n("cj_i18n_01359","My shopping list"),navigator:{onClick:function(){p.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".menuButton"},c)}},bmApis:n,onNewTab:d});e.appendChild(a);var t,o,l=(t=cjce.createElement("bm-ogb",{displayBack:!0,floating:!0,bmApis:n,onNewTab:d,pageLabel:cjBasics.lang.i18n("cj_i18n_01362","Share list"),serviceLabel:cjBasics.lang.i18n("cj_i18n_01028","Shopping List"),onBack:function(){t.hidden=!0,r()}}),o=cjce.createElement("cjmd-button",{color:!0,fill:!0,label:cjBasics.lang.i18n("cj_i18n_01363","Save"),onClick:function(){t.hidden=!0,p.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".saveButton"},c),setTimeout(r,200)}}),t.cjceAppendChild(o),t);l.hidden=!0,e.appendChild(l);var s=cjce.createElement("cjmd-iconbutton",{iconName:"__mdi:person_add",label:cjBasics.lang.i18n("cj_i18n_01360","Share"),onClick:function(){p.cjceSendFrameCommand({method:"bmCstClickDomElement",value:'.headerControl[routerlink*="/share"]'},c),l.hidden=!1}});a.cjceAppendChild(s);var m=cjBasics.uniqueId.generate(),s=cjBasics.urlParams.attach(i,{bm_cid:"shoppinglist",bm_cst:"1",bm_wiz:"1",bm_iid:m,hl:cjBasics.lang.current});function d(){p.cjceGetCleanUrl(c).then(function(e){n.openTab(e||i)})}function r(){p.cjceSendFrameCommand({method:"bmCstClickDomElement",value:".backButton"},c)}cjBasics.webRequest.handleIframeHeaders([c+"/*bm_iid="+m+"*","https://shopping.google.com/*bm_iid="+m+"*"],{handleFirefoxInject:!0});var p=cjce.createElement("bm-iframe",{src:s,solid:"#fff",shadow:!0,onLoad:function(){a.cjceSetLoading(!1)},onMessage:function(e){var n=e.bm_method,e=e.bm_value;"shoppinglistUpdateLabel"===n?a.cjceSetPageLabel(e):"shoppinglistShareOpen"===n&&(l.hidden=!1)}});e.appendChild(p)});