"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var n,s,e,o,t,a,i,r,u,m;function c(){document.body.classList.toggle("dark-mode",t)}function d(e){document.documentElement.dataset.bmMessagesHideMenus="1",document.querySelector("button[data-e2e-main-nav-menu]").click(),setTimeout(function(){setTimeout(function(){document.documentElement.dataset.bmMessagesHideMenus="0"},50),document.querySelector(e).click()},50)}function b(){(document.querySelector('a[href="/web/conversations"]')||document.querySelector(".back-button")).click()}function f(){d("button[data-e2e-main-nav-menu-archived], a[data-e2e-main-nav-menu-archived]")}window.top===window||"https://messages.google.com"===(n=window.location).origin&&(s=("object"===("undefined"==typeof chrome?"undefined":_typeof(chrome))&&chrome&&chrome.runtime&&chrome||"object"===("undefined"==typeof browser?"undefined":_typeof(browser))&&browser||{}).runtime.getURL("PATH/").replace("/PATH/",""),("object"!==_typeof(e=window.location.ancestorOrigins)||1===e.length&&e[0]===s)&&(o=s.startsWith("moz-extension://"),t=-1!==window.location.search.indexOf("bm_udm=1"),function e(){document.body?(c(),setTimeout(c,100),setTimeout(c,200),setTimeout(c,1e3)):setTimeout(e,10)}(),function e(){var t=n.href;a!==t&&(a=t,o="conversations",(r=n.pathname).startsWith("/web/auth")?o="authentication":r.startsWith("/web/settings")?o="settings":r.startsWith("/web/conversations/new")?o=-1===a.indexOf("mode=group")?"newConversation":"newGroupConversation":r.startsWith("/web/conversations/")&&(o="conversation"),o!==i&&(i=o,window.parent.postMessage({bm_method:"messagesWebsiteView",bm_value:i},s)),o="/web/conversations"!==r&&"/web"!==r&&!r.startsWith("/web/auth"),window.parent.postMessage({bm_method:"messagesBackState",bm_value:o},s));var o=document.querySelector("h2[data-e2e-header-title]"),o=o&&o.textContent;u!==o&&(u=o,window.parent.postMessage({bm_method:"messagesUpdateTitle",bm_value:o},s));o=document.querySelector("button.notifications-button[data-e2e-is-muted"),o=o&&"true"===o.dataset.e2eIsMuted;m!==o&&(m=o,window.parent.postMessage({bm_method:"messagesMutedState",bm_value:o},s)),setTimeout(e,100)}(),window.addEventListener("message",function(e){var t;e.origin===s&&(e.isTrusted||o)&&(e=(t=e.data||{}).bm_method,t=t.bm_value,"messagesActivateMenuItem"===e&&("archived"===(t=t)?r.startsWith("/web/conversation")?f():(b(),setTimeout(f,50)):"settings"===t?d('a[data-e2e-main-nav-menu-settings], a[href="/web/settings"]'):b()))})))}();