"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){var c,a,n,e,i,r;function s(e){return e?"A"===e.tagName?e:s(e.parentNode):null}function u(e,t){t=new window.InputEvent(t,{bubbles:!0,cancelable:!0});e.dispatchEvent(t)}function l(e,t){t=new window.KeyboardEvent(t,{bubbles:!0,cancelable:!0,keyCode:13});e.dispatchEvent(t)}function t(e,t){t=new window.MouseEvent(t,{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(t)}function d(e){t(e,"mousedown"),t(e,"mouseup"),t(e,"click")}function m(e,t){var o=document.querySelector(e);if(o){for(;0<t;)o=o.parentNode,t--;d(o)}}window.top!==window&&window.location.origin.endsWith(".google.com")&&(c=("object"===("undefined"==typeof chrome?"undefined":_typeof(chrome))&&chrome&&chrome.runtime&&chrome||"object"===("undefined"==typeof browser?"undefined":_typeof(browser))&&browser||{}).runtime.getURL("PATH/").replace("/PATH/",""),("object"!==_typeof(e=window.location.ancestorOrigins)||1===e.length&&e[0]===c)&&(a=c.startsWith("moz-extension://"),n=-1!==navigator.platform.toLowerCase().indexOf("mac")?"metaKey":"ctrlKey",e=0|window.location.search.split("bm_cst=")[1].split("&"),i=window.location.origin,e%2==0&&(r=window.location.search,document.addEventListener("mousedown",function(e){var t,o=s(e.target);o&&!o.bmProcessed&&(o.bmProcessed=!0,o.href&&(t=o.origin,e=o.search,t.match(/^https:\/\/[a-z]{1,}\.app\.goo\.gl$/)&&(o.href=decodeURIComponent(e.match(/[?&](?:link|afl)=(.+?)(?:&|$)/))),t===i&&-1===e.indexOf("bm_cst=")&&(e.startsWith("?")?o.search+=r.replace("?","&"):o.search=r)))},!0),document.addEventListener("click",function(e){var t=s(e.target),o=t&&t.href;(o&&-1===t.search.indexOf("bm_cst=")||1===e.button||e[n])&&(window.parent.postMessage({bm_method:"bmCstOpenUrl",bm_value:o},c),e.stopPropagation(),e.preventDefault())})),window.addEventListener("message",function(e){var t,o,n,i,r;e.origin===c&&(e.isTrusted||a)&&(r=(t=e.data||{}).bm_method,o=t.bm_value,"bmCstGetFrameUrl"===r?e.source.postMessage({bm_request:t.bm_request,bm_value:window.location.href},c):"bmCstUpdateState"===r?(window.history.pushState(null,null,o),n=new window.PopStateEvent("popstate",{state:{url:o}}),window.dispatchEvent(n)):"bmCstNavigateBack"===r?window.history.back():"bmCstClickDomElement"===r?m(o):"bmCstClickParentElement"===r?m(o.selector,o.depth):"bmCstInputFill"===r?((n=document.querySelector(o.selector)).value=o.newValue,u(n,"input")):"bmCstFillAndSubmit"===r&&((r=document.querySelector(o.selector)).value=o.newValue,i=r,r=0,setTimeout(function(){d(i)},r+=50),setTimeout(function(){l(i,"keydown")},r+=50),setTimeout(function(){l(i,"keyup")},r+=50),setTimeout(function(){u(i,"input")},200)))})))}();